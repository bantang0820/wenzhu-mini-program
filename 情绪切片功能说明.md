# 情绪切片·微回忆录 - 功能说明

## 🎯 核心理念

这不是一张"系统通知单"，而是一页**"情绪切片"**，记录从"兵荒马乱"到"尘埃落定"的完整心路历程。

---

## 📖 三段式叙事结构

### 1. 【风暴时刻】(The Trigger)
**记录时间**：用户进入页面时
**文案特点**：
- 真实的身体感受（"太阳穴在突突直跳"）
- 环境描写（"时针在跳，早饭凉了"）
- 情绪的具象化表达

**示例**：
> 那个瞬间，我的太阳穴在突突直跳，理智快要断线。

### 2. 【转念瞬间】(The Shift)
**记录时间**：按压完成，文字变成金色的瞬间
**文案特点**：
- 主动选择（"但我选择了闭嘴"）
- 观察者视角（"看见那双泪流满面的眼睛"）
- 自我觉察（"我把'快点'吞回肚子里"）

**示例**：
> 但我选择了闭嘴。深呼吸的那三次，像过了一个世纪。

### 3. 【此刻安顿】(The Anchor)
**记录时间**：点击"稳住了"的瞬间
**文案特点**：
- 顿悟感（"慢就是快"）
- 哲理升华（"情绪是天空，我是天空"）
- 温柔的力量（"花开没有声音，我陪他慢慢来"）

**示例**：
> 慢就是快。一旦我稳住了，秩序就回来了。

---

## 🎨 热敏纸小票视觉风格

### 核心设计元素

#### 1. **字体魔法**
- **时间戳**：等宽字体（Courier New），像打字机打出来的
- **正文**：楷体（Kaiti SC），手写般的亲切感
- **金句**：粗楷体，压舱石般的分量

#### 2. **排版布局**
- **左对齐**：日记感，不是公告
- **时间轴连线**：虚线串联三个时刻，增强"历程感"
- **宽行距**：呼吸感

#### 3. **质感细节**
- **撕边效果**：顶部和底部的锯齿状边缘
- **折痕**：中间极淡的阴影，像被折叠收藏过
- **热敏纸纹理**：横向打印条痕
- **印章日期**：左上角红色日期框（JAN 18）

#### 4. **时间轴圆点**
- 风暴时刻：灰色
- 转念瞬间：灰色
- 此刻安顿：金色（压轴）

#### 5. **用户签名**
- 底部右下角
- 楷体斜体
- 自动获取用户昵称

---

## 📊 文案库配置

### 文案位置
`/database/emotionalSlices.js`

### 文案结构
```javascript
{
  'child-tantrum': {
    slices: [
      {
        storm: ['风暴文案1', '风暴文案2', '风暴文案3'],
        shift: ['转念文案1', '转念文案2', '转念文案3'],
        anchor: ['安顿文案1', '安顿文案2', '安顿文案3'],
        variations: [
          {
            storm: '变体风暴文案',
            shift: '变体转念文案',
            anchor: '变体安顿文案'
          }
        ]
      }
    ]
  }
}
```

### 随机机制
- 每次生成时随机选择一段文案
- 50%概率选择主文案，50%概率选择variation
- 确保每次生成的卡片都有新鲜感

---

## 🔧 技术实现

### 时间轴记录

#### 1. detail.js
```javascript
// 记录三个关键时间点
data: {
  stormTime: null,  // 进入页面时（onLoad）
  shiftTime: null,  // 按压完成时（onHoldComplete）
  anchorTime: null  // 点击"稳住了"时（onSteady）
}
```

#### 2. card.js
```javascript
// 接收时间数据
eventChannel.on('acceptData', (data) => {
  const { stormTime, shiftTime, anchorTime } = data;
  // 格式化时间：07:42
  // 格式化日期：JAN 18
});
```

### Canvas绘制要点

1. **热敏纸纹理**：添加横向打印条痕
2. **撕边效果**：随机锯齿状边缘
3. **折痕**：极淡的阴影线
4. **时间轴虚线**：串联三个时刻
5. **楷体渲染**：使用Kaiti SC字体

---

## 🎯 产品价值

### 用户视角
- **真实感**：精确的时间（07:42）+ 身体感受
- **叙事感**：从混乱到安顿的完整历程
- **私密感**：像日记，不是系统通知
- **成就价值**：记录成长，值得收藏

### 社交价值
- **分享动机**：不是炫耀，而是表达
- **情感共鸣**：其他妈妈看到会认同"我也是这样"
- **品牌传播**：自然带出"稳住"品牌

---

## 📝 使用流程

1. **进入场景**：记录风暴时刻（07:42）
2. **按压稳定**：记录转念时刻（07:45）
3. **完成朗读**：记录安顿时刻（07:50）
4. **点击"稳住了"**：生成情绪切片
5. **查看卡片**：三段式叙事 + 时间轴
6. **保存/分享**：收藏或分享到朋友圈

---

## 💡 优化空间

### 可选功能
1. **用户自定义文案**：允许用户编辑默认文案
2. **心情词标签**：让用户选择一个词（如：平静、释然）
3. **天气API**：自动获取当地天气
4. **真实印章**：替换代码绘制的印章为真实图片
5. **用户头像**：添加圆形黑白滤镜头像

---

## 🎉 MVP总结

**已实现**：
✅ 三段式叙事文案库
✅ 精确的时间轴记录
✅ 热敏纸小票风格
✅ 撕边、折痕质感
✅ 楷体+等宽字体
✅ 左对齐+时间轴连线
✅ 印章日期
✅ 用户签名

**效果**：
从"系统通知单"升级为"有温度的情绪切片"
真实感 + 叙事感 + 高级感 = 用户愿意保存和分享

---

**这就是"从兵荒马乱到尘埃落定"的完整记录！** 🎨✨
